<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Football Betting API</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-tr from-gray-900 to-black text-white min-h-screen p-4">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-8">
      <h1 class="text-4xl font-extrabold text-white mb-4">Football Betting API</h1>
      <p class="text-gray-300 max-w-2xl mx-auto mb-8">
        This is a Node.js-powered backend for real-time football predictions and betting data. Built with scalability and performance in mind.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <div class="lg:col-span-1">
        <h3 class="text-xl font-bold mb-4 text-emerald-400">API Endpoints</h3>
        <div class="space-y-2">
          <button onclick="fetchData('/api/health')" class="w-full text-left px-4 py-3 bg-green-600 hover:bg-green-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">Health Check</div>
            <div class="text-sm text-gray-200">GET /api/health</div>
          </button>
          
          <button onclick="fetchData('/api')" class="w-full text-left px-4 py-3 bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">API Info</div>
            <div class="text-sm text-gray-200">GET /api</div>
          </button>
          
          <button onclick="fetchData('/api/matches')" class="w-full text-left px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">Matches (Protected)</div>
            <div class="text-sm text-gray-200">GET /api/matches</div>
          </button>
          
          <button onclick="fetchData('/api/public/matches')" class="w-full text-left px-4 py-3 bg-cyan-600 hover:bg-cyan-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">Public Matches</div>
            <div class="text-sm text-gray-200">GET /api/public/matches</div>
          </button>
          
          <button onclick="fetchData('/api/predictions')" class="w-full text-left px-4 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">Predictions</div>
            <div class="text-sm text-gray-200">GET /api/predictions</div>
          </button>
          
          <button onclick="testAuth()" class="w-full text-left px-4 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">Auth Login</div>
            <div class="text-sm text-gray-200">POST /api/auth/login</div>
          </button>
          
          <button onclick="fetchData('/api/users/profile')" class="w-full text-left px-4 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-all duration-300">
            <div class="font-semibold">User Profile</div>
            <div class="text-sm text-gray-200">GET /api/users/profile</div>
          </button>
        </div>
      </div>

      <div class="lg:col-span-2">
        <div id="dataDisplay" class="bg-gray-800 rounded-lg p-6 min-h-96">
          <h3 class="text-xl font-bold mb-4 text-emerald-400">API Response</h3>
          <div id="responseInfo" class="mb-4 text-sm text-gray-400"></div>
          <pre id="jsonOutput" class="text-sm overflow-x-auto bg-gray-900 p-4 rounded text-green-400">
Click an endpoint to see the response...</pre>
        </div>
      </div>
    </div>

    <footer class="mt-10 text-center text-gray-500 text-sm">
      &copy; <span id="year"></span> Football Betting API. All rights reserved.
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    async function fetchData(endpoint, options = {}) {
      const jsonOutput = document.getElementById('jsonOutput');
      const responseInfo = document.getElementById('responseInfo');
      
      try {
        responseInfo.textContent = `Loading ${endpoint}...`;
        jsonOutput.textContent = 'Loading...';
        
        const response = await fetch(endpoint, options);
        const data = await response.json();
        
        responseInfo.innerHTML = `
          <span class="text-emerald-400">Status:</span> ${response.status} ${response.statusText} | 
          <span class="text-emerald-400">Endpoint:</span> ${endpoint} | 
          <span class="text-emerald-400">Method:</span> ${options.method || 'GET'}
        `;
        
        jsonOutput.textContent = JSON.stringify(data, null, 2);
      } catch (error) {
        responseInfo.textContent = `Error fetching ${endpoint}`;
        jsonOutput.textContent = `Error: ${error.message}`;
      }
    }

    async function testAuth() {
      await fetchData('/api/auth/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          email: 'test@example.com',
          password: 'testpassword'
        })
      });
    }
  </script>
</body>
</html>
